# Tree-Based Text Retrieval via Hierarchical Clustering in RAGFrameworks: Application on Taiwanese Regulations

**Authors**: Chia-Heng Yu, Yen-Lung Tsai

**Published**: 2025-06-16 15:34:29

**PDF URL**: [http://arxiv.org/pdf/2506.13607v1](http://arxiv.org/pdf/2506.13607v1)

## Abstract
Traditional Retrieval-Augmented Generation (RAG) systems employ brute-force
inner product search to retrieve the top-k most similar documents, then
combined with the user query and passed to a language model. This allows the
model to access external knowledge and reduce hallucinations. However,
selecting an appropriate k value remains a significant challenge in practical
applications: a small k may fail to retrieve sufficient information, while a
large k can introduce excessive and irrelevant content. To address this, we
propose a hierarchical clustering-based retrieval method that eliminates the
need to predefine k. Our approach maintains the accuracy and relevance of
system responses while adaptively selecting semantically relevant content. In
the experiment stage, we applied our method to a Taiwanese legal dataset with
expert-graded queries. The results show that our approach achieves superior
performance in expert evaluations and maintains high precision while
eliminating the need to predefine k, demonstrating improved accuracy and
interpretability in legal text retrieval tasks. Our framework is simple to
implement and easily integrates with existing RAG pipelines, making it a
practical solution for real-world applications under limited resources.

## Full Text


<!-- PDF content starts -->

arXiv:2506.13607v1  [cs.IR]  16 Jun 2025Tree-Based Text Retrieval via Hierarchical Clustering
in RAG Frameworks: Application on Taiwanese
Regulations
ぃとどち〭えづので すふ
ぎちぴどはのちぬ ぃとづのでっとど さのどぶづひびどぴべ
arthur422tp@gmail.com
すづの〭がふので ごびちど
ぎちぴどはのちぬ ぃとづのでっとど さのどぶづひびどぴべ
yenlung@nccu.edu.tw
Abstract
Traditional Retrieval-Augmented Generation (RAG) systems employ brute-force
inner product search to retrieve the top-k most similar documents, then combined
with the user query and passed to a language model. This allows the model to
access external knowledge and reduce hallucinations. However, selecting an appro-
priate k value remains a significant challenge in practical applications: a small k
may fail to retrieve sufficient information, while a large k can introduce excessive
and irrelevant content. To address this, we propose a hierarchical clustering-based
retrieval method that eliminates the need to predefine k. Our approach maintains
the accuracy and relevance of system responses while adaptively selecting semanti-
cally relevant content.
In the experiment stage, we applied our method to a Taiwanese legal dataset with
expert-graded queries. The results show that our approach achieves superior per-
formance in expert evaluations and maintains high precision while eliminating the
need to predefine k, demonstrating improved accuracy and interpretability in legal
text retrieval tasks.
Our framework is simple to implement and easily integrates with existing RAG
pipelines, making it a practical solution for real-world applications under limited
resources.
1 Introduction
しづ ばひはばはびづ ち とどづひちひっとどっちぬ っぬふびぴづひどので〭ぢちびづつ ひづぴひどづぶちぬ ねづぴとはつ ぴとちぴ づぬどねどのちぴづび ぴとづ のづづつ
ぴは ばひづつづ「のづ に〮 あべ はひでちのどぺどので ぴづへぴ づねぢづつつどのでび どのぴは ち ぴひづづ びぴひふっぴふひづ ちのつ ちばばぬべどので ち
っはびどのづ〭つどびぴちのっづ〭ぢちびづつ あうこ ぬはっちぴづび ぴとづ ねはびぴ ひづぬづぶちのぴ のはつづ〮 ごとどび つづびどでの づのちぢぬづび ちつちばぴどぶづ
ひづぴひどづぶちぬ〺 ちぢびぴひちっぴ ぱふづひどづび ひづぴひどづぶづ とどでとづひ〭ぬづぶづぬ のはつづび〬 ぷとどぬづ びばづっど「っ はのづび ひづちっと どのつどぶどつふちぬ
ぬづちて のはつづび〮 しづ づぶちぬふちぴづつ はの ち ごちどぷちのづびづ ぬづでちぬ っはひばふび ぷどぴと づへばづひぴ〭でひちつづつ ぱふづびぴどはのび〬 はふひ
〱

ねづぴとはつ はふぴばづひてはひねび ぴひちつどぴどはのちぬ ひづぴひどづぶちぬ どの ぢはぴと ちつなふびぴづつ う〱 びっはひづ 〨 β〽 〴〩 ちのつ づへばづひぴ
ひちぴどのでび〬 つづねはのびぴひちぴどので びどでのど「っちのぴ どねばひはぶづねづのぴび どの ばひづっどびどはの ちのつ どのぴづひばひづぴちぢどぬどぴべ〮 ごとづ
ばひはばはびづつ てひちねづぷはひに どび びっちぬちぢぬづ ちのつ つはねちどの〭ちつちばぴちぢぬづ〬 は》づひどので ち ばひちっぴどっちぬ ちぬぴづひのちぴどぶづ てはひ
にのはぷぬづつでづ〭どのぴづのびどぶづ ちばばぬどっちぴどはのび ふのつづひ ぬどねどぴづつ ひづびはふひっづび〮
しづ びふねねちひどぺづ はふひ っはのぴひどぢふぴどはのび ちび てはぬぬはぷび〺
•No Need to Set k-value:
しづ ばひはばはびづ ち えどづひちひっとどっちぬ ぃぬふびぴづひどので ぴひづづ〭ぢちびづつ ひづぴひどづぶちぬ ねづぴとはつ ぴとちぴ ひづねはぶづび ぴとづ
のづづつ ぴは ばひづつづ「のづ ぴとづ kぶちぬふづ〬 はぶづひっはねどので ち っはねねはの ぢはぴぴぬづのづっに どの ぴひちつどぴどはのちぬ げぁぇ
せ〱そ ばどばづぬどのづび〮
•Linguistic Hierarchy:
くふひ とどづひちひっとどっちぬ っぬふびぴづひどので ぴひづづ のはぴ はのぬべ でひはふばび びづねちのぴどっちぬぬべ びどねどぬちひ つはっふねづのぴび〬 ぢふぴ
ちぬびは ひづ」づっぴび ぴとづ ねふぬぴど〭ぬづぶづぬ びづねちのぴどっ びぴひふっぴふひづ はて ぴとづ っはひばふび〮 えどでとづひ〭ぬづぶづぬ のはつづび
ひづばひづびづのぴ ぢひはちつづひ っはのっづばぴび〬 ぷとどぬづ ぬはぷづひ〭ぬづぶづぬ のはつづび ひづぴちどの っはのっひづぴづ どのてはひねちぴどはの〮
ごとどび づのちぢぬづび 」づへどぢぬづ ひづぴひどづぶちぬ ちっひはびび ぶちひどはふび びっづのちひどはび〬 は》づひどので どのぴづひばひづぴちぢぬづ ちのつ
びぴひふっぴふひづつ ちっっづびび ぴは っはねばぬづへ っはひばはひち〮
しづ ちぬびは ねちにづ はふひ っはつづ ちぶちどぬちぢぬづ どの ぇどぴとふぢ1〮
2 Related Work
げづっづのぴ ちつぶちのっづねづのぴび どの がちひでづ がちのでふちでづ きはつづぬび 〨ががきび〩 ぢちびづつ はの ぴとづ ごひちのびてはひねづひ ちひっとど〭
ぴづっぴふひづ せ〲そ とちぶづ びどでのど「っちのぴぬべ ぴひちのびてはひねづつ ぴとづ 「づぬつ はて のちぴふひちぬ ぬちのでふちでづ ばひはっづびびどので 〨ぎがぐ〩〮
しとどぬづ ががき とちぶづ つづねはのびぴひちぴづつ びぴひはので ばづひてはひねちのっづ ちっひはびび ぎがぐ ぴちびにび〬 ぴとづべ ひづねちどの ばひはのづ
ぴは とちぬぬふっどのちぴどはのび せ〳そ〬 はてぴづの でづのづひちぴどので っはのぴづのぴ ぴとちぴ どび どのちっっふひちぴづ はひ てちぢひどっちぴづつ〮 ごは ちつつひづびび
ぴとどび ぬどねどぴちぴどはの〬 げづぴひどづぶちぬ〭ぁふでねづのぴづつ ぇづのづひちぴどはの 〨げぁぇ〩 ちふでねづのぴび ががきび ぷどぴと づへぴづひのちぬ
っはひばはひち〬 でひはふのつどので はふぴばふぴび どの てちっぴふちぬ びはふひっづび ぴとひはふでと ひづぴひどづぶちぬ ねはつふぬづび
げぁぇ〬 ぷとづぴとづひ ぢちびづつ はの いづのびづ ぐちびびちでづ げづぴひどづぶちぬ 〨いぐげ〩 せ〴そ はひ どののづひ ばひはつふっぴ びづちひっと〬
ひづぬべ はの ち 「へづつ kぶちぬふづ つふひどので ひづぴひどづぶちぬ〬 ぷとどっと っちの ぬづちつ ぴは びふぢはばぴどねちぬ ひづびふぬぴび つふづ ぴは
っとははびどので ちの どのちばばひはばひどちぴづ k〮 しとどぬづ びはねづ げぁぇ ばどばづぬどのづび ちつはばぴ ひづひちのにどので ねづっとちのどびねび
せ〵そ せ〶そ はひ びづぴぴどので ぴとひづびとはぬつび どの ち ぴぷは〭びぴちでづ ばひはっづびび ぴは ひづ「のづ ぴとづ ひづぴひどづぶづつ ひづびふぬぴび〬 ひづぬちぴどぶづぬべ
てづぷ づ》はひぴび とちぶづ てはっふびづつ はの ひづぶどびどので ぴとづ ひづぴひどづぶちぬ ばとちびづ どぴびづぬて ぴは ちつちばぴどぶづぬべ びづぬづっぴ ひづぬづぶちのぴ
っはのぴづのぴ ぢちびづつ はの びづねちのぴどっ びぴひふっぴふひづ〮
ぉの っづひぴちどの つはねちどの〭びばづっど「っ げぁぇ ちばばぬどっちぴどはのび〬 びふっと ちび ぬづでちぬ はひ ねづつどっちぬ 「づぬつび〬 びづぬづっぴどので
ちの ちばばひはばひどちぴづ kぶちぬふづ ぢづっはねづび ばちひぴどっふぬちひぬべ っとちぬぬづのでどので つふづ ぴは ぴとづ っはねばぬづへどぴべ ちのつ ぶちひど〭
ちぢどぬどぴべ はて ぴとづ っはのぴづのぴ〮 ごは ちつつひづびび ぴとどび どびびふづ〬 ぷづ ばひはばはびづ ち とどづひちひっとどっちぬ っぬふびぴづひどので〭ぢちびづつ
ひづぴひどづぶちぬ てひちねづぷはひに ぴとちぴ つべのちねどっちぬぬべ つづぴづひねどのづび ぴとづ のふねぢづひ はて ひづぬづぶちのぴ つはっふねづのぴび ぢべ
ぬづぶづひちでどので ぴとづ びづねちのぴどっ びぴひふっぴふひづ はて ぢはぴと ぴとづ ぱふづひべ ちのつ ぴとづ っはひばふび〮
げづぬちぴづつ ぷはひに どのっぬふつづび げぁぐごくげ せ〷そ〬 ぷとどっと っはのびぴひふっぴび ち ぴひづづ〭ぢちびづつ ひづばひづびづのぴちぴどはの ぢべ
1https://github.com/arthur422tp/hierachical . Detailed instructions for installation and usage
are provided in the repository.
〲

っぬふびぴづひどので ばちびびちでづび ふびどので ぇちふびびどちの きどへぴふひづ きはつづぬび ちのつ ばづひてはひねどので ひづっふひびどぶづ びふねねち〭
ひどぺちぴどはの ぷどぴと ちの ががき〮 ぇひちばと げぁぇ せ〸そ〬 づへぴひちっぴび づのぴどぴどづび ちのつ ひづぬちぴどはのび ぢべ ががき ぴは ぢふどぬつ
ぴとづ にのはぷぬづつでづ でひちばと〬 てはぬぬはぷづつ ぢべ とどづひちひっとどっちぬ っはねねふのどぴべ つづぴづっぴどはの ふびどので ぴとづ がづどつづの ちぬ〭
ではひどぴとね〮 ぁぴ ぱふづひべ ぴどねづ〬 どぴ ちばばぬどづび ち ねちば〭ひづつふっづ びぴひちぴづでべ はぶづひ っはねねふのどぴべ びふねねちひどづび ぴは
でづのづひちぴづ でぬはぢちぬ ちのびぷづひび〮
あはぴと ねづぴとはつび づのとちのっづ ぴとづ ひづぴひどづぶちぬ ばひはっづびび ぢべ どねばはびどので びぴひふっぴふひづ はのぴは ぴとづ っはひばふび〬
ぴとづひづぢべ づのちぢぬどので ねはひづ ぴちひでづぴづつ はひ どのてはひねちぴどぶづ ひづびばはのびづび てひはね ぴとづ ががき〮 ぁぬぴとはふでと ぴとづびづ
ちばばひはちっとづび ちひづ づ》づっぴどぶづ〬 ぴとづべ どのぴひはつふっづ びどでのど「っちのぴ っはねばふぴちぴどはのちぬ はぶづひとづちつ ちのつ ちつつづつ
っはねばぬづへどぴべ ぴは ぴとづ ひづぴひどづぶちぬ ばどばづぬどのづ〮 ぉの ばちひぴどっふぬちひ〬 ぢはぴと げぁぐごくげ ちのつ ぇひちばと げぁぇ ひづ〭
ぱふどひづ づへぴづのびどぶづ ばひづばひはっづびびどので ぴは っはのびぴひふっぴ びぴひふっぴふひづつ ひづばひづびづのぴちぴどはのび はて ぴとづ っはひばふびぼげぁぐごくげ
ぴとひはふでと ひづっふひびどぶづ ががき びふねねちひどぺちぴどはの はぶづひ っぬふびぴづひづつ ばちびびちでづび〬 ちのつ ぇひちばとげぁぇ ぴとひはふでと
ががき〭ぢちびづつ づのぴどぴべ ちのつ ひづぬちぴどはの づへぴひちっぴどはの てはぬぬはぷづつ ぢべ でひちばと っはのびぴひふっぴどはの ちのつ っはねねふのどぴべ
つづぴづっぴどはの〬 ねちにどので ぴとづね ねはひづ っはびぴぬべ ちのつ ぴどねづ〭っはのびふねどので つふひどので ばひづばひはっづびびどので〮
In contrast 〬 はふひ ねづぴとはつ ぢふどぬつび ち びづねちのぴどっ ぴひづづ つどひづっぴぬべ てひはね ぴづへぴ っとふのにび ちのつ ぴとづどひ
ひづばひづびづのぴちぴどぶづ ぶづっぴはひび〬 づのぴどひづぬべ ちぶはどつどので ががき どのぶはぬぶづねづのぴ どの ぴとづ びぴひふっぴふひづ〭ぢふどぬつどので ばひは〭
っづびび〮 ごとどび ぬづちつび ぴは ち ぬどでとぴぷづどでとぴ〬 づちびどぬべ つづばぬはべちぢぬづ ひづぴひどづぶちぬ てひちねづぷはひに ぴとちぴ ばひづびづひぶづび
びづねちのぴどっ びぴひふっぴふひづ ぷとどぬづ ひづねちどのどので づ『っどづのぴ ちのつ びっちぬちぢぬづ〮
3 Methodology
しづ づねばぬはべ とどづひちひっとどっちぬ っぬふびぴづひどので ぷどぴと っはびどのづ つどびぴちのっづ ちび ぴとづ っぬふびぴづひどので ねづぴひどっ〬 はひでちのどぺ〭
どので ぴづへぴ ぶづっぴはひび どのぴは ち ぴひづづ つどちでひちね ぴとひはふでと ぢはぴぴはね〭ふば〮 ごは づのとちのっづ ぴとづ どのぴづひばひづぴちぢどぬどぴべ
はて ぴとづ ひづぴひどづぶちぬ ばひはっづびび〬 ぷづ っはのびぴひふっぴ ち とどづひちひっとどっちぬ ひづぴひどづぶちぬ ぴひづづ ぷどぴと どのつづへ てはひ はふひ ひづ〭
ぴひどづぶちぬ びべびぴづね〮
ごとどび ちばばひはちっと づのびふひづび ぴとちぴ ぴとづ ひづぴひどづぶちぬ のはぴ はのぬべ ねちどのぴちどのび とどでと ばひづっどびどはの ぢふぴ ちぬびは は》づひび
ねはひづ っはねばひづとづのびどぶづ ちのつ びぴひふっぴふひづつ ひづびふぬぴび〮
Figure 1: Flow of Hierarchical Clustering Tree
〳

3.1 Hierarchical clustering
3.1.1 Metric in Hierarchical clustering
しづ びづぬづっぴ っはびどのづ つどびぴちのっづ ちび はふひ ねづぴひどっ〬 でどぶづの v,wぢづ ちのべ ぶづっぴはひ どの ち のはひねづつ ぶづっぴはひ
びばちっづ V〬 ぴとづ っはびどのづ つどびぴちのっづ どび つづ「のづつ ちび てはぬぬはぷ〺
d〨v,w〩 〽 〱−⟨v,w⟩
|v||w|
ぷとづひづ | · |どび ぴとづ ぅふっぬどつづちの つどびぴちのっづ〮
ぃぬづちひぬべ〬 っはびどのづ つどびぴちのっづ どび のはぴ ち ぴひふづ つどびぴちのっづ〬 ちび どぴ ぶどはぬちぴづび ぴとづ ぴひどちのでぬづ どのづぱふちぬどぴべ〮 えはぷ〭
づぶづひ〬 どぴ ばひづびづひぶづび はぴとづひ ばひはばづひぴどづび はて ち つどびぴちのっづ ねづぴひどっ ちのつ ひづねちどのび ち ぶちぬふちぢぬづ ぴははぬ てはひ
ぴづへぴ びどねどぬちひどぴべ〮
Figure 2: Hierarchical Clustering using Single-Linkage and Cosine Similarity. For each text
vector, we initialize it as a separate cluster. We then iteratively merge the two closest clusters
by cosine similarity until all vectors are merged into a single cluster, only the leaf nodes contains
both vector and text; For the non-leaf nodes, we store only the vector, where the represent vector
is determined by the mean of the vector of it children nodes.
3.1.2 Construction
ぁび ぷづ びづぬづっぴ ぴとづ ねづぴひどっ てはひ えどづひちひっとどっちぬ っぬふびぴづひどので〬 ぷづ ちひづ ではどので ぴは どのぴひはつふっづ とはぷ ぷづ
っはのびぴひふっぴ ぴとづ ぴひづづ つどちでひちね〮
ぇどぶづの ち びづぴ はて Nぶづっぴはひび {v1,v2, . . . ,vN} ⊆Rd〬 ぷづ ちどね ぴは っはのびぴひふっぴ ち とどづひちひっとどっちぬ
っぬふびぴづひどので ぴひづづ ふびどので こどのでぬづ〭がどのにちでづ ぷどぴと ぴとづ っはびどのづ ねづぴひどっ〮 ごとづ ちぬではひどぴとね ばひはっづづつび ちび
てはぬぬはぷび〺
〴

Algorithm 1: えどづひちひっとどっちぬ ぃぬふびぴづひどので ふびどので こどのでぬづ〭がどのにちでづ ちのつ ぃはびどのづ こどねどぬちひどぴべ
Input: ぁ びづぴ はて ぴづへぴ ぶづっぴはひび {v1, . . . ,vN}
Output: ぁ とどづひちひっとどっちぬ っぬふびぴづひどので ぴひづづ
ぉのどぴどちぬどぺづ づちっと っぬふびぴづひ Ci〽{vi}ぷどぴと どのつづへ i〻
がづぴT〽{C1, . . . ,CN}ぢづ ぴとづ びづぴ はて ちぬぬ っぬふびぴづひび〻
ぁびびどでの のはつづ どのつづへ のはつづ i〽iてはひ づちっと っぬふびぴづひ〻
while |T |>〱do
ぃはねばふぴづ っはびどのづ つどびぴちのっづ ぢづぴぷづづの ちぬぬ っぬふびぴづひび〺
d〨Ci,Cj〩 〽 ねどの va∈Ci,vb∈Cj
〱−va·vb
∥va∥∥vb∥
〻
ぉつづのぴどてべ っぬふびぴづひび CiちのつCjぷどぴと ねどのどねちぬ つどびぴちのっづ〻
きづひでづ ぴとづね〺 Ck〽Ci∪ Cj〻
ぁびびどでの どのつづへ のはつづ k〽N〫m〬 ぷとづひづ mどび ぴとづ のふねぢづひ はて ねづひでづび びは てちひ〻
さばつちぴづ Tぢべ ひづばぬちっどので Ci,CjぷどぴとCk〻
こづぴ っぬふびぴづひ ぶづっぴはひ vk〽1
|Ck|P
v∈Ckv〻
Output
ごとづ ちぬではひどぴとね はふぴばふぴび ち dendrogram ひづばひづびづのぴどので ぴとづ とどづひちひっとどっちぬ っぬふびぴづひどので はて ぴとづ ぴづへぴ
ぶづっぴはひび〮 ぅちっと のはつづ どの ぴとづ つづのつひはでひちね っはひひづびばはのつび ぴは ち っぬふびぴづひ〬 どのつづへづつ びづぱふづのぴどちぬぬべ てひはね
〱 ぴは 〲 N−〱〬 ぷとづひづ ぴとづ 「ひびぴ Nのはつづび ひづばひづびづのぴ どのつどぶどつふちぬ ぴづへぴ ぶづっぴはひび ちのつ ぴとづ ひづねちどのどので
N−〱 のはつづび ひづばひづびづのぴ ねづひでづつ っぬふびぴづひび〮 ごとづ ひははぴ のはつづ のはつづ rootっはひひづびばはのつび ぴは ぴとづ 「のちぬ
ねづひでづつ っぬふびぴづひ っはのぴちどのどので ちぬぬ Nぶづっぴはひび〬 ちのつ どぴび どのつづへ どび〺
のはつづ root〽 〲N−〱.
3.2 Searching Algorithm
しづ つづびどでのづつ ちの ちぬではひどぴとね ぴは びづちひっと はふひ ぴひづづ つどちでひちね〬 はのづ はて ぴとづ ちぬではひどぴとね どび ぢちびづつ はの
ぴとづ どのつづへ はて ちぬぬ のはつづ どの ぴとづ ひづぴひどづぶちぬ ぴひづづ〬 ぷづ びづちひっと ぴとづ ねはびぴ ひづぬづぶちのぴ のはつづ ぴは ぴとづ ぱふづひべ〮
ぉて びふっと のはつづ どび ぬづちて のはつづ〬 ぴとづの ぷづ はふぴばふぴ ぴとづ ぴづへぴ ぷづ びぴはひづつ どの ぴとづ ぬづちて〮 どて のはぴ〬 ぷづ っはぬぬづっぴ
どぴび びふぢぴひづづ ちのつ はふぴばふぴ ちぬぬ ぴとづ ぴづへぴ どの ぴとづ ぬづちぶづび はて ぴとづ びふぢぴひづづ〮
ごは どねばひはぶづ ひづぴひどづぶちぬ ばづひてはひねちのっづ てはひ はぶづひぬべ ちぢびぴひちっぴ はひ ぶちでふづ ぱふづひどづび〬 ぷづ どのぴひはつふっづ ちの
はばぴどはのちぬ ぱふづひべ づへぴひちっぴどはの ねはつふぬづ〬 ぷとづひづ ち ぬちのでふちでづ ねはつづぬ ひづてはひねふぬちぴづび ぴとづ はひどでどのちぬ ぱふづひべ
どのぴは ち ねはひづ っはのっひづぴづ ちのつ びぴひふっぴふひづつ ひづばひづびづのぴちぴどはの〮 ごとどび どび ちっとどづぶづつ ふびどので ち ぃはご ばひはねばぴ〭
どので せ〹そ びぴひちぴづでべ〬 っは〭つづびどでのづつ ぷどぴと つはねちどの づへばづひぴび〬 ちどねづつ ちぴ ばひはぶどつどので ねはひづ っはのびどびぴづのぴ
ひづびふぬぴび〮
ぁつつどぴどはのちぬぬべ〬 どの っちびづび ぷとづひづ ぴとづ ひづぴひどづぶづつ っはのぴづのぴ ひづねちどのび はぶづひぬべ ぢひはちつ〬 ぷづ はばぴどはのちぬぬべ
ひづちばばぬべ きちへどねふね ぉののづひ ぐひはつふっぴ こづちひっと 〨きぉぐこ〩 ぷどぴとどの ぴとづ っはぬぬづっぴづつ つはっふねづのぴび ぴは てふひ〭
ぴとづひ ひづ「のづ ぴとづ ひづびふぬぴび〮
ごとどび はぶづひちぬぬ つづびどでの づのびふひづび ぢはぴと どのぴづひばひづぴちぢどぬどぴべ ちのつ びづねちのぴどっ っはのびどびぴづのっべ〬 ぬづぶづひちでどので
ぴとづ ぴひづづ〧び とどづひちひっとどっちぬ びぴひふっぴふひづ ぴは つべのちねどっちぬぬべ ちつなふびぴ ぴとづ ひづぴひどづぶちぬ でひちのふぬちひどぴべ〮
〵

Algorithm 2: あうこ〭あちびづつ ぎづちひづびぴ こふぢぴひづづ こづちひっと さびどので ぃはびどのづ いどびぴちのっづ
Input: けふづひべ ぶづっぴはひ q〬 とどづひちひっとどっちぬ ぴひづづ ぷどぴと ひははぴ のはつづ root
Output: こづぴ はて ぬづちて ぴづへぴ ぶづっぴはひび Lふのつづひ ぴとづ っぬはびづびぴ のはつづ
ぉのどぴどちぬどぺづ ち ぱふづふづ〺 Q← {root}〻
ぉのどぴどちぬどぺづ〺 mindistance ← ∞ 〬bestnode←root〻
while Qis not empty do
いづぱふづふづ ぴとづ 「ひびぴ のはつづ〺 node←Q.pop 〨〩〻
ぃはねばふぴづ っはびどのづ つどびぴちのっづ ぢづぴぷづづの qちのつnode〧び ぶづっぴはひ ひづばひづびづのぴちぴどはの vnode〺
d〽 〱−q·vnode
∥q∥∥vnode∥〻
ifd < min distance then
mindistance ←d〻
bestnode←node〻
foreach child cofnodedo
ぅのぱふづふづ cどのぴはQ〻
ぃはぬぬづっぴ ちぬぬ ぬづちて ぴづへぴ ぶづっぴはひび Lふのつづひ bestnode〻
return L〻
Figure 3: How to search in the retrieval tree. Given two queries vector q1, q2, we can find the
most relevant node in the retrieval tree. For q1, the most relevant node is node N+1, therefore
letnode N+1be the subroot of our retrieval tree, we output the text in the leaves of the subtree,
which is node 1andnode 2; For q2, the most relevant node is node N−2, which is a leaf node,
therefore we output the text in the leaf node directly.
Time Complexity あはぴと ぴとづ っはのびぴひふっぴどはの ちのつ びづちひっと ちぬではひどぴとねび ちひづ っはねばふぴちぴどはのちぬぬべ
づ『っどづのぴ〮 ごとづ えどづひちひっとどっちぬ ぃぬふびぴづひどので ぷどぴと こどのでぬづ〭がどのにちでづ ひふのび どの O〨N2〩 ぴどねづ つふづ ぴは
ばちどひぷどびづ つどびぴちのっづ っはねばふぴちぴどはの〬 ぷとどぬづ ぴとづ あうこ〭ぢちびづつ びづちひっと ぴひちぶづひびづび ちぴ ねはびぴ 〲 N−〱
のはつづび ちのつ 〲 N−〲 づつでづび どの ぴとづ ぷはひびぴ っちびづ〬 ひづびふぬぴどので どの O〨N〩 ぴどねづ っはねばぬづへどぴべ〮 ごとづびづ
っとちひちっぴづひどびぴどっび ねちにづ はふひ ねづぴとはつ ぬどでとぴぷづどでとぴ ちのつ びっちぬちぢぬづ てはひ ばひちっぴどっちぬ つづばぬはべねづのぴ〮〮
〶

4 Experiment Setup
ぉの ぴとどび びづっぴどはの〬 ぷづ ばひづびづのぴ とはぷ はふひ ぷづ つづびどでの はふひ づへばづひどねづのぴ ぴは づぶちぬふちぴづ はふひ ひづぴひどづぶちぬ
びべびぴづね〮 しづ 「ひびぴ どのぴひはつふっづ とはぷ ぷづ びづぬづっぴ ちのつ ばひづばひはっづびび ぴとづ っはひばふび〬 ぴとづ ねはつづぬ びづぬづっぴどはの〬
ぴとづの とはぷ ぷづ づぶちぬふちぴづ つど》づひづのぴ ひづぴひどづぶちぬ びべびぴづねび〬 ちのつ 「のちぬぬべ〬 ぷづ ばひづびづのぴ ぴとづ ひづびふぬぴび はて はふひ
づぶちぬふちぴどはの〮
4.1 Corpus Selection and Preprocessing
しづ びづぬづっぴ ぴとづ ごちどぷちの ぬづでちぬ ちび はふひ っはひばふび てはひ ぬづでちぬ ばひはぶどびどはの ひづぴひどづぶちぬ〬 ぷづ っはのびふぬぴづつ ぬづでちぬ
づへばづひぴび ちのつ ちびにづつ ぴとづね ぴは ばひはばはびづ ぴはばどっび てひはね っとちばぴづひび ぴとづべ びばづっどちぬどぺづ どの〬 びふっと ちび ぴとづ
ぇづのづひちぬ ぐひどのっどばぬづび はて ぃどぶどぬ がちぷ ちのつ ぴとづ がちのつ げづでふぬちぴどはのび〮
うはひ ぴとづ ぴづへぴ ばひづばひはっづびびどので〬 ぷづ づねばぬはべづつ ぴとづ ぴづへぴ びばぬどぴぴづひ ねはつふぬづ てひはね ぴとづ がちのでぃとちどの〮
うはひ ちぬぬ づへばづひどねづのぴちぬ びづぴぴどのでび〬 ぷづ っはの「でふひづつ ぴとづ びばぬどぴぴづひ ぷどぴと ち っとふのに びどぺづ はて 〲〰〰 ちのつ ち
っとふのに はぶづひぬちば はて 〴〰〬 ひづびふぬぴどので どの ち 〲〰〥 はぶづひぬちば〮 ごとづ ばちひちねづぴづひ びづぴぴどので はて はぶづひぬちば ぷちび
ねはぴどぶちぴづつ ぢべ とづふひどびぴどっび ひづっはねねづのつづつ ぢべ びづのどはひ づのでどのづづひび ちぴ きづぴち〮 うはひ ぴとづ びづぴぴどので はて ぴとづ
っとふのに びどぺづ〬 っはのびどつづひづつ はて ぴとづ ぴづへぴ つづのびどぴべ はて ぬちぷ ばひはぶどびどはのび〬 ちの づへっづびびどぶづぬべ ぬちひでづ っとふのに
びどぺづ ねちべ ひづつふっづ ひづぴひどづぶちぬ ちっっふひちっべ びどのっづ ち びどのでぬづ っとふのに ねちべ っはのぴちどの ねふぬぴどばぬづ っはのっづばぴ はて
ぬづでちぬ ばひはぶどびどはのび ぷとどぬづ ち っとふのに びどぺづ ぴとちぴ どび ぴはは びねちぬぬ っちの ぬづちつ ぴは どのづ『っどづのっべ〮 ぉの ぴとづ っはのぴづへぴ
はて ぃとどのづびづ ぬづでちぬ ぴづへぴ ひづぴひどづぶちぬ〬 ぷづ びづぴ ぴとづ っとふのに びどぺづ ぴは 〲〰〰 ぢちびづつ はの づへぴづのびどぶづ ばひはなづっぴ
づへばづひどづのっづ ちのつ どぴづひちぴどぶづ ぴひべ ちのつ づひひはひ〮 ごとどび ぶちぬふづ ひづ」づっぴび ぢちびづつ はの はふひ はぷの はぢびづひぶちぴどはのび
ちのつ ぬづびびはのび ぬづちひのづつ てひはね ばひどはひ どねばぬづねづのぴちぴどはのび ぢべ はぴとづひび〮
4.2 Model Selection
うはひ ぴとづ ばひづ〭ぴひちどのづつ づのっはつづひ ねはつづぬ〬 ぷづ びづぬづっぴ どのぴ」はちぴ〯ねふぬぴどぬどのでふちぬ〭づ〵〭ぬちひでづ せ〱〰そ〬 ちの はばづの
びはふひっづ ねふぬぴどぬどのでふちぬ ねはつづぬ つづぶづぬはばづつ ぢべ きどっひはびはてぴ ちのつ ちぶちどぬちぢぬづ はの えふででどのでうちっづ〮
うはひ ぴとづ でづのづひちぴはひ〬 ぷづ びづぬづっぴ ぇぐご〭〴は〭ねどのど ちび はふひ ぴづびぴどので がき〮 ぇぐご〭〴は〭ねどのど どび ち ぶちひど〭
ちのぴ はて ぴとづ ぇぐご〭〴 ねはつづぬ せ〱〱そ 〬 ぷとどっと どび ち ねふぬぴど〭ぬちのでふちでづ ねはつづぬ つづぶづぬはばづつ ぢべ くばづのぁぉ〮
ぇぐご〭〴は〭ねどのど どび ち びねちぬぬづひ ぶづひびどはの はて ぇぐご〭〴〬 ぷどぴと 〱〲〸に っはのぴづへぴ ぬづのでぴと〮 しづ っとははびづ ぇぐご〭
〴は〭ねどのど ちび はふひ ねはつづぬ ぢづっちふびづ どぴ ばづひてはひねづつ ぷづぬぬ ちっひはびび ねふぬぴどばぬづ ぢづのっとねちひに づぶちぬふちぴどはのび〬
ちっとどづぶどので ち びっはひづ はて 〸〲〥 はの ぴとづ ききがさ ぴづびぴ ちっっはひつどので ぴは ぁひどぴ「っどちぬ ぁのちぬべびどび ぷづぢびどぴづ〮
4.3 Evaluation Metrics
うはひ ぴとづ づぶちぬふちぴどはの はて はふひ ひづぴひどづぶちぬ びべびぴづね〬 ぷづ っはねばちひづ ぴとひづづ つど》づひづのぴ ねづぴとはつび〺 ごひちつど〭
ぴどはのちぬ どののづひ ばひはつふっぴ びづちひっと 〬 はふひ えどづひちひっとどっちぬ っぬふびぴづひどので ぴひづづ ひづぴひどづぶちぬ〬 ちのつ えどづひちひっとどっちぬ
っぬふびぴづひどので ぴひづづ ひづぴひどづぶちぬ ぷどぴと ち ぱふづひべ づへぴひちっぴどはの〮 しづ づぶちぬふちぴづ ぴとはびづ ねづぴとはつび ぢべ ぅへばづひぴ
ひちぴどので ちのつ ちつなふびぴづつ う〱 びっはひづ〬 ぷとどっと どび づねばとちびどぺづつ ねはひづ はの ひづっちぬぬ〬 つづびどでの ぢべ ぴとづ てはぬぬはぷどので
てはひねふぬち〺
う〱adjusted 〽〨〱 〫β2〩 ぐひづっどびどはの ·げづっちぬぬ
β2ぐひづっどびどはの 〫 げづっちぬぬ
ぷとづひづ β〽 〴 どび ぴとづ ぷづどでとぴ はて ばひづっどびどはの〮 ごとづ ちつなふびぴづつ う〱 びっはひづ どび つづびどでのづつ ぴは づねばとちびどぺづ
ねはひづ はの ひづっちぬぬ〬 ぷとどっと どび ねはひづ どねばはひぴちのぴ どの ぬちぷ ひづぴひどづぶちぬ〮
〷

Expert rating ぁ びふぢなづっぴどぶづ づぶちぬふちぴどはの ねづぴとはつ〬 ぷとづひづ ぷづ ちびに どのつどぶどつふちぬび ぷとは とちぶづ
ばちびびづつ ぴとづ のちぴどはのちぬ ぢちひ づへちねどのちぴどはの ちのつ ちひづ ぬどっづのびづつ ちぴぴはひのづべび ぴは ちびびどびぴ ふび ぷどぴと ぴとづ
づぶちぬふちぴどはの〮 ごとづ ぱふづびぴどはのび ぷづ ばひはぶどつづつ ちひづ びはふひっづつ てひはね づへちねどのちぴどはのび ちつねどのどびぴづひづつ ぢべ
ぎちぴどはのちぬ ごちどぷちの さのどぶづひびどぴべ〬 ぎちぴどはのちぬ ぃとづのでっとど さのどぶづひびどぴべ〬 ごちどばづど さのどぶづひびどぴべ〨ごとづびづ ふのど〭
ぶづひびどぴどづび ちひづ ぷどつづぬべ ひづでちひつづつ ちび とちぶどので ぴとづ ぴはば ぴとひづづ ぬちぷ つづばちひぴねづのぴび どの ごちどぷちの〮〩〬 ちのつ
ぴとづ のちぴどはのちぬ ぢちひ づへちね〮
しづ ばひはぶどつづつ ぴとづ づぶちぬふちぴどはの びぴちのつちひつ ちび てはぬぬはぷび〺
分 分 分數 數 數說 說 說明 明 明具 具 具體 體 體標 標 標準 準 準
1分完全無關檢索結果與問題無關，甚至產生誤導性內容，顯示
對問題主題缺乏理解，無法提供有效資訊。
2分部分相關但錯
誤較多結果與問題主題有關聯，但關鍵資訊錯誤或混亂，
內容表述缺乏精確性與條理性。
3分準確完整但尚
未達專業標準結果內容正確且具邏輯性，涵蓋問題所需之主要資
訊與法條，表達清楚，僅在論述深度或結構完整性
上略有不足。
4分高度專業且清
楚回答內容完全符合問題需求，具高度專業性，涵蓋
條文、條理明晰，適當完整連結法律依據、術語、
制度背景與相關要素，展現良好專業知識。
5分卓越專業、具
實務應用深度回答全面精準，展現整合能力與策略性，具體情境
應用與策略建議能力，內容表現出明晰且具法律理
解與實務判斷力。
Table 1: Expert rating standard.
ちのつ ぷづ びづぴ ぴとづ ぴはぴちぬ びっはひづ はて はふひ ひちぴどので びべびぴづね ぢべ〺
ごはぴちぬ 〽 〰 .〵·ぅへばづひぴ 〫 〰 .〵·〵·う〱adjusted
5 Conclusion
ごは づぶちぬふちぴづ ぴとづ ばづひてはひねちのっづ はて はふひ ひづぴひどづぶちぬ びべびぴづね〬 ぷづ っはねばちひづ ぴとづ ぴとひづづ ねづぴとはつび〬
ごとづbrute-force inner product search ぷちび びづぴ ちび ぴとづ baseline (Origin method) 〮
ごとづ びづっはのつ ねづぴとはつ づねばぬはべづつ hierarchical clustering tree retrieval (Tree method) 〬
ちのつthe hierarchical clustering tree retrieval with query extraction(Tree+QE
method) ちび ぴとづ ぴとどひつ ねづぴとはつ〮 しづ づぶちぬふちぴづ ぴとづ ばづひてはひねちのっづ はて ぴとづ ぴとひづづ ねづぴとはつび ぢべ
ぴとづadjusted F1 score ちのつexpert rating 〮 ごとづ ひづびふぬぴび ちひづ びとはぷの どの うどでふひづ 〴〮
〸

Figure 4: Average Expert Score, F1 Score, and Total Score for the three retrieval methods.
ぉの ちつつどぴどはの ぴは ぴとづ ぁぶづひちでづ こっはひづ はて ぴとづ ぴとひづづ ねづぴとはつび〬 ぷづ ちぬびは づぶちぬふちぴづ ぴとづ つどびぴひどぢふぴどはの
はて びっはひづ つど》づひづのっづび ぢづぴぷづづの づちっと ばひはばはびづつ ねづぴとはつ ちのつ ぴとづ ぢちびづぬどのづ〮
Figure 5: Box plot of the score differences between the Tree method and the Tree+Query
method relative to the Origin method.
ぁび びとはぷの どの うどでふひづ 〵〬 ぴとづ ぢはへ ばぬはぴ ばひづびづのぴび ぴとづ びっはひづ つど》づひづのっづび はて ぢはぴと Tree method
ちのつTree+Query methods ひづぬちぴどぶづ ぴは ぴとづ くひどでどの ねづぴとはつ〮 しとどぬづ ぴとづ ごひづづ ねづぴとはつ
つづねはのびぴひちぴづび とどでとづひ ねづつどちの どねばひはぶづねづのぴ〬 どぴび ばづひてはひねちのっづ ちひづ ねはひづ ぷどつづぬべ〬 ぷどぴと ち
でひづちぴづひ びばひづちつ ちのつ ち はふぴぬどづひ〮 ぉの っはのぴひちびぴ〬 ぴとづ ごひづづ〫けふづひべ ねづぴとはつ〬 ち ねはひづ っはのびどびぴづのぴ
ひちのでづ はて どねばひはぶづねづのぴび〬 つづびばどぴづ とちぶどので ち びぬどでとぴぬべ ぬはぷづひ ねづつどちの〮
ぁぬびは〬 はふひ びぴちぴどびぴどっちぬ びどでのど「っちのっづ ぴづびぴ ひづびふぬぴび ちひづ びとはぷの どの ごちぢぬづ 〲〮 ごとづ ひづびふぬぴび どのつど〭
っちぴづ ぴとちぴ ぢはぴと ぴとづ ごひづづ ねづぴとはつ ちのつ ぴとづ ごひづづ〫けふづひべ ねづぴとはつ ちひづ びぴちぴどびぴどっちぬぬべ びどでのど「っちのぴ
っはねばちひづつ ぴは ぴとづ くひどでどの ねづぴとはつ〬 ぷどぴと ば〭ぶちぬふづび はて 〰〮〰〲〷 ちのつ 〰〮〰〲〲〬 ひづびばづっぴどぶづぬべ〮 ごとづ
ぃはとづの〧び つ ぶちぬふづび てはひ ぴとづ ごひづづ ねづぴとはつ ちのつ ぴとづ ごひづづ〫けふづひべ ねづぴとはつ ちひづ 〰〮〴〵〸 ちのつ 〰〮〴〸〴〬
ひづびばづっぴどぶづぬべ〬 どのつどっちぴどので ち ねはつづひちぴづ づ》づっぴ びどぺづ〮
〹

Comparison Mean Difference t-statistic p-value (one-tailed) Cohen’s d
ごひづづ ぶび くひどでどの 〨ごはぴちぬ こっはひづ〩 〰〮〴〱〶 〲〮〰〵 〰〮〰〲〷 〰〮〴〵〸
ごひづづ〫けぅ ぶび くひどでどの 〨ごはぴちぬ こっはひづ〩 〰〮〴〳〲 〲〮〱〶 〰〮〰〲〲 〰〮〴〸〴
ごひづづ ぶび くひどでどの 〨ぅへばづひぴ こっはひづ〩 〰〮〷〰〰 〱〮〷〳 〰〮〰〵〰 〰〮〳〸〷
ごひづづ〫けぅ ぶび くひどでどの 〨ぅへばづひぴ こっはひづ〩 〰〮〷〰〰 〲〮〴〰 〰〮〰〱〳 〰〮〵〳〸
Table 2: Statistical significance test results for each method compared to the baseline.
6 Limitations
くふひ びぴふつべ つづねはのびぴひちぴづつ ぴとづ てづちびどぢどぬどぴべ はて どのぴづでひちぴどので げぁぇ ぷどぴと ぬづでちぬ 「づぬつ〬 びばづっど「っちぬぬべ
どの ぴとづ っはのぴづへぴ はて ぃどぶどぬ がちぷ ちのつ がちのつ げづでふぬちぴどはのび〮 えはぷづぶづひ〬 びづぶづひちぬ ぬどねどぴちぴどはのび ぷづひづ
はぢびづひぶづつ ぴとちぴ ねちべ でふどつづ てふぴふひづ どねばひはぶづねづのぴび ちのつ づへぴづのびどはのび〮
うどひびぴ〬 ちぬぴとはふでと ぃはご ばひはねばぴどので てちっどぬどぴちぴづび ねはひづ つづぴちどぬづつ ちのつ びぴひふっぴふひづつ ひづびばはのびづび〬 ぢはぴと
はふひ づへばづひぴび どの ぃどぶどぬ がちぷ ちのつ がちのつ げづでふぬちぴどはのび ばはどのぴづつ はふぴ ぴとちぴ ぷとどぬづ ぴとづ はぶづひちぬぬ つどひづっ〭
ぴどはの はて ぴとづ ひづびばはのびづび ぷづひづ っはひひづっぴ〬 ぴとづひづ ぷづひづ びはねづ どのちっっふひちっどづび どの ぴとづ つづぴちどぬび〮 ごとどび どびびふづ
ぬどにづぬべ びぴづねび てひはね はふひ つづびどでの ちばばひはちっと〬 ぷとどっと どのぶはぬぶづつ ねどねどっにどので ぴとづ ひづちびはのどので ばちぴぴづひのび
はて ぬづでちぬ づへばづひぴび ぢべ ぢひづちにどので つはぷの ぴとづどひ ぴとはふでとぴ ばひはっづびびづび どのぴは びぴづば〭ぢべ〭びぴづば ぃはご ばひはねばぴび〮
えはぷづぶづひ〬 ぴとづ ねはひづ づぬちぢはひちぴづ ぴとづ ひづびばはのびづ ぢづっちねづ〬 ぴとづ でひづちぴづひ ぴとづ っとちのっづ てはひ びふぢぴぬづ ぬづでちぬ
どのちっっふひちっどづび ぴは づねづひでづ ぷどぴとどの びばづっど「っ ひづちびはのどので びぴづばび〮 ごは ちつつひづびび ぴとどび どびびふづ〬 てふぴふひづ ぷはひに
ねちべ っはのびどつづひ どのぴひはつふっどので ち ねどつ〭びどぺづつ〬 ぬづでちぬぬべ ぴひちどのづつ ねはつづぬ ちび ち びづっはのつちひべ っちぬどぢひちぴどはの
ねはつふぬづ〮 ごとどび ぬづでちぬ づへばづひぴ ねはつづぬ ぷはふぬつ ぴちにづ ぴとづ でづのづひちぴづつ ひづびばはのびづび ちび どのばふぴ ちのつ ばづひ〭
てはひね 「のづ〭でひちどのづつ っはひひづっぴどはのび ぴは づのびふひづ ぴとづ ちっっふひちっべ はて ぬづでちぬ つづぴちどぬび〮
こづっはのつ〬 ぷとどぬづ ぴとづ びべびぴづね ばづひてはひねづつ っはのびどびぴづのぴぬべ ちのつ はふぴばづひてはひねづつ ぴとづ ぢちびづぬどのづ どの ぃどぶどぬ
がちぷ〬 ぴとづ ひづびふぬぴび どの がちのつ げづでふぬちぴどはのび ぷづひづ ぬづびび ちっっふひちぴづ〮 くふひ づへばづひぴび どの がちのつ げづでふぬちぴどはのび
とどでとぴぬでとぴづつ ぴとちぴ ぴとづ びっづのちひどはび てひはね がちのつ げづでふぬちぴどはのび ぴづのつづつ ぴは ぢづ ねはひづ っはねばぬづへ ちのつ
はてぴづの どのぶはぬぶづつ ねふぬぴどばぬづ ぬづでちぬ ばひはぶどびどはのび〮 ぁっっはひつどので ぴは ぴとづどひ てづづつぢちっに〬 ぜぁぬぴとはふでと ぴとづ っはの〭
ぴづへぴ はて ぴとづ ぱふづびぴどはの ぴべばどっちぬぬべ ひづぬちぴづび ぴは がちのつ げづでふぬちぴどはのび〬 ぴとづ ちっぴふちぬ ぬづでちぬ つどびばふぴづび ちのつ
ひづちびはのどので はてぴづの ひづぱふどひづ にのはぷぬづつでづ ぴとちぴ ちっひはびび ねふぬぴどばぬづ ちひづちび はて ぬちぷ〬 ひちぴとづひ ぴとちの ひづぬべどので
びはぬづぬべ はの ぴとづ がちのつ ぁっぴ はひ ち ぬどねどぴづつ びづぴ はて ぬづでちぬ ちひぴどっぬづび〮〢ごとづ つづぴちどぬづつ びべびぴづね ひづびばはのびづび
ちのつ づへばづひぴ てづづつぢちっに てはひ ぴとづ がちのつ げづでふぬちぴどはのび びづっぴどはの ちひづ どのっぬふつづつ どの ぴとづ ぁばばづのつどへ てはひ
ひづてづひづのっづ〮 ごとどび びふででづびぴび ぴとちぴ づ》づっぴどぶづ ぬづでちぬ ひづちびはのどので どの びふっと びっづのちひどはび つづねちのつび ぢひはちつづひ
ぬづでちぬ どのぴづでひちぴどはの〬 ぷとどっと ひづねちどのび ち っとちぬぬづのでづ てはひ ぴとづ っふひひづのぴ びべびぴづね〮 えはぷづぶづひ〬 どのぴづでひちぴどので
ねふぬぴどばぬづ ぬづでちぬ つはねちどのび どのぴは ぴとづ ひづぴひどづぶちぬ ばひはっづびび ねちべ びどでのど「っちのぴぬべ どのっひづちびづ ぴとづ のふねぢづひ
はて ひづぬづぶちのぴ つはっふねづのぴび ひづぴひどづぶづつ〬 ばはぴづのぴどちぬぬべ ひづつふっどので ぴとづ づ『っどづのっべ ちのつ ちっっふひちっべ はて ぴとづ
ぬちのでふちでづ ねはつづぬ〧び ひづびばはのびづ〬 はひ づぶづの づへっづづつどので ぴとづ っはのぴづへぴ ぷどのつはぷ ぬどねどぴちぴどはのび はて ぴとづ ねはつづぬ〮
ごとどひつ〬 ぢはぴと づへばづひぴび どのつどっちぴづつ ぴとちぴ ぴとづ ひづびばはのびづび てひはね ぴとづ びべびぴづね ぬちっにづつ つづづばづひ なふひどびばひふ〭
つづのぴどちぬ ひづちびはのどので〮 おふひどびばひふつづのっづ どび ぴとづ てふのつちねづのぴちぬ びばどひどぴ ちのつ ぴとづはひづぴどっちぬ てはふのつちぴどはの
ぴとちぴ てはひねび ち のちぴどはの〧び づのぴどひづ ぬづでちぬ びべびぴづね はひ びばづっど「っ ぢひちのっとづび はて ぬちぷ〮 ごとづ っはねばぬづへどぴべ ちのつ
っはのびぴちのぴ づぶはぬふぴどはの はて びはっどちぬ ばとづのはねづのち ねちにづ どぴ どねばはびびどぢぬづ てはひ ぬづでどびぬちぴどはの ぴは てふぬぬべ ひづでふ〭
ぬちぴづ づぶづひべ びどぴふちぴどはの〮 ぉの びふっと っちびづび〬 なふひどびばひふつづのっづ びづひぶづび ぴは びふばばぬづねづのぴ でちばび どの びぴちぴふぴはひべ
ちのつ っふびぴはねちひべ ぬちぷ〬 ちのつ どび はてぴづの ひづでちひつづつ ちび ち ぶちぬどつ びはふひっづ はて ぬちぷ〮 えはぷづぶづひ〬 ぢづっちふびづ
なふひどびばひふつづのぴどちぬ ひづちびはのどので どび のはぴ づへばぬどっどぴぬべ っはつど「づつ どの ぬづでちぬ ぴづへぴび〬 どぴ っちののはぴ ぢづ ひづぴひどづぶづつ
ぢべ ぴとづ びべびぴづねぼべづぴ どぴ ひづねちどのび ちの づびびづのぴどちぬ ぴははぬ てはひ ぬづでちぬ ばひはてづびびどはのちぬび どの どのぴづひばひづぴどので ちのつ
ちばばぬべどので ぴとづ ぬちぷ ぴは ひづちぬ〭ぷはひぬつ っちびづび〮 ごは ちつつひづびび ぴとどび どびびふづ〬 てふぴふひづ ぷはひに ねちべ っはのびどつづひ
どのっはひばはひちぴどので ひづぬづぶちのぴ なふつどっどちぬ つづっどびどはのび どのぴは ぴとづ ねはつづぬ〧び ぴひちどのどので つちぴち〬 ばひはぶどつづつ ぴとちぴ
〱〰

びふ『っどづのぴ っはねばふぴちぴどはのちぬ ひづびはふひっづび ちひづ ちぶちどぬちぢぬづ〮 あべ づへばはびどので ぴとづ ねはつづぬ ぴは ち ぷどつづ ひちのでづ
はて ばひづっづつづのぴ っちびづび〬 どぴ ぷはふぬつ ぢづ ぢづぴぴづひ づぱふどばばづつ ぴは でづのづひちぴづ ひづびばはのびづび ぴとちぴ ひづ」づっぴ のはぴ
はのぬべ びぴちぴふぴはひべ ひづちびはのどので ぢふぴ ちぬびは ふのつづひぬべどので なふひどびばひふつづのぴどちぬ ばひどのっどばぬづび〬 ぬづちつどので ぴは ねはひづ
っはねばひづとづのびどぶづ ちのつ ぬづでちぬぬべ びはふのつ なふつでねづのぴび どの っはのぴづへぴ〭びばづっど「っ びっづのちひどはび〮
7 Future Work
しづ ちぬびは づへばぬはひづ ぴづっとのどっちぬ ちのつ ねづぴとはつはぬはでどっちぬ どねばひはぶづねづのぴび ぴとちぴ っはふぬつ ぢづ ねちつづ ぴは ぴとづ
びべびぴづね〬 ちび ぷづぬぬ ちび ぢひはちつづひ ちばばぬどっちぴどはのび ぢづべはのつ ぴとづ ぬづでちぬ つはねちどの〮
7.1 Technical and Methodological Improvements
ぉの ちつつどぴどはの ぴは ぴとづ ぬどねどぴちぴどはのび ちのつ ばはぴづのぴどちぬ づへぴづのびどはのび ぷづ つどびっふびびづつ ちぢはぶづ〬 ぷづ どつづのぴど「づつ
びづぶづひちぬ ぴづっとのどっちぬ ちのつ ねづぴとはつはぬはでどっちぬ どねばひはぶづねづのぴび ぴとちぴ っはふぬつ づのとちのっづ ぴとづ びべびぴづね〧び ばづひ〭
てはひねちのっづ ちのつ ふびちぢどぬどぴべ〮
ぁ ががき ぴひちどのづつ はの ぬづでちぬ っはひばはひち どのっぬふつどので ちっちつづねどっ っはねねづのぴちひべ〬 ばひづっづつづのぴ っちびづび〬 ぬづでちぬ
はばどのどはのび〬 ちのつ ちのびぷづひび ぴは ぴとづ ぬづでちぬ ぱふづびぴどはのび てひはね づへばづひぴび っはふぬつ つづぶづぬはば ち ねはひづ のふちのっづつ
ふのつづひびぴちのつどので はて ぬづでちぬ ひづちびはのどので ちのつ なふひどびばひふつづのっづ〬 ぷとどっと ぷはふぬつ とづぬば ぴは びはぬぶづ ちぬねはびぴ ちぬぬ
ぴとづ ぬどねどぴちぴどはのび はて ぴとづ っふひひづのぴ びべびぴづね ぷづ ねづのぴどはのづつ ちぢはぶづ〮
えはぷづぶづひ〬 っはのびどつづひどので ぴとづ っはのびぴひちどのぴび はて とちひつぷちひづ ちのつ つづばぬはべねづのぴ づのぶどひはのねづのぴび〬 ぴひちどのどので
ち ぬちひでづ〭びっちぬづ ががき はの ち ぬちひでづ〭びっちぬづ ぬづでちぬ っはひばふび ひづねちどのび ち びどでのど「っちのぴ っとちぬぬづのでづ〮 ごとどび どび
ぴとづ ねちどの ひづちびはの ぷとべ ぷづ っとはびづ ぴは てはっふび はの とはぷ ぴは どねばひはぶづ ぴとづ ひづぴひどづぶちぬ ばちひぴび どの げぁぇ
てひちねづぷはひに どの ぴとどび びぴふつべ〮 ぁぴ ねはびぴ〬 ぷづ っはふぬつ ち》はひつ ぴは ぴひちどの ち びねちぬぬ〭 ぴは ねづつどふね〭びどぺづつ ぬづでちぬ
ぬちのでふちでづ ねはつづぬ はの ち ぬどねどぴづつ っはひばふび〮 しとどぬづ びふっと ち ねはつづぬ ねちべ のはぴ ぢづ びふ『っどづのぴ ぴは びづひぶづ
ちび ぴとづ ばひどねちひべ でづのづひちぴはひ はて ぴとづ びべびぴづね〬 どぴ っはふぬつ どのびぴづちつ ぢづ ふびづつ ちび ち びづっはのつちひべ ねはつふぬづ
ぴは っちぬどぢひちぴづ ちのつ ひづ「のづ ぴとづ つづぴちどぬづつ ひづびばはのびづび ばひはつふっづつ ぢべ はふひ ねちどの びべびぴづね〮
7.2 Broader Applications
ぃはのびどつづひどので ぴとちぴ のはぴ ちぬぬ はひでちのどぺちぴどはのび とちぶづ ぴとづ とちひつぷちひづ っちばちっどぴべ ぴは つづばぬはべ ち ががき〬
ぴとづひづてはひづ げぁぇ〬 ばひはぶどつどので ち っはびぴ〭づ》づっぴどぶづ ちぬぴづひのちぴどぶづ びはぬふぴどはの てはひ ぴとはびづ っはねばちのべ〮 ごとづ
げぁぇ てひちねづぷはひに びぴひどにづび ち ぢちぬちのっづ ぢづぴぷづづの っはねばふぴちぴどはのちぬ づ『っどづのっべ ちのつ ばづひてはひねちのっづ〬
ねちにどので どぴ ばちひぴどっふぬちひぬべ びふどぴちぢぬづ てはひ どのびぴどぴふぴどはのび びふっと ちび びねちぬぬ〭 ぴは ねづつどふね〭びどぺづつ っはねばち〭
のどづび〬 ではぶづひのねづのぴ ちでづのっどづび〬 はひ づつふっちぴどはのちぬ はひでちのどぺちぴどはのび ぴとちぴ ひづぱふどひづ つはねちどの〭びばづっど「っ ぁぉ
びふばばはひぴ ぢふぴ ぬちっに ぴとづ ひづびはふひっづび ぴは ぴひちどの はひ とはびぴ ち つづつどっちぴづつ ががき〮
ぉの ぴとどび びぴふつべ〬 はふひ ちぬではひどぴとね つづねはのびぴひちぴづび びぴちぴどびぴどっちぬぬべ びどでのど「っちのぴ どねばひはぶづねづのぴび はぶづひ ぴとづ
ぢちびづぬどのづ げぁぇ てひちねづぷはひに どの ぬづでちぬ ひづちびはのどので ぴちびにび〮 あづべはのつ ぬづでちぬ ちばばぬどっちぴどはのび〬 ぷづ づへばづっぴ
ぴとちぴ はふひ ぴひづづ〭びぴひふっぴふひづつ げぁぇ びべびぴづね っちの ぢづ づへぴづのつづつ ぴは はぴとづひ つはねちどのび ぴとちぴ ひづぱふどひづ
びばづっどちぬどぺづつ にのはぷぬづつでづ〬 びふっと ちび ねづつどっどのづ〬 ぴはふひどびね〬 ちのつ づつふっちぴどはの〮 うはひ どのびぴちのっづ〬 どの ぴとづ
ねづつどっちぬ 「づぬつ〬 ぴとづ びべびぴづね っはふぬつ ばひはぶどつづ ちっっづびびどぢぬづ とづちぬぴと〭ひづぬちぴづつ どのてはひねちぴどはの はひ びふばばはひぴ
ぢちびどっ つどちでのはびぴどっ どのぱふどひどづび〻 どの づつふっちぴどはの〬 どぴ っはふぬつ ちびびどびぴ びぴふつづのぴび ぷどぴと どのつどぶどつふちぬ ぱふづびぴどはの
ちのびぷづひどので はひ づのちぢぬづ ひづちぬ〭ぴどねづ け〦ぁ ぷとづの っはねぢどのづつ ぷどぴと ち びばづづっと〭ぴは〭ぴづへぴ 〨こごご〩 びべびぴづね〻
どの ぴはふひどびね〬 ぴとづ びべびぴづね っはふぬつ は》づひ つづぴちどぬづつ ぴひちぶづぬ どのてはひねちぴどはの はひ ばづひびはのちぬどぺづつ つづびぴどのちぴどはの
ひづっはねねづのつちぴどはのび〮 ごとづびづ ちひづ ちぬぬ ふびづ っちびづび どの ぷとどっと ぁぉ びふばばはひぴ どび ぶちぬふちぢぬづ〬 ぢふぴ ちっっづびび ぴは
ぬちひでづ〭びっちぬづ っはねばふぴどので どのてひちびぴひふっぴふひづ どび ぬどねどぴづつ〮
〱〱

References
せ〱そ ぐちぴひどっに がづぷどび〬 ぅぴとちの ぐづひづぺ〬 ぁぬづにびちのつひち ぐどにぴふび〬 うちぢどは ぐづぴひはのど〬 ざぬちつどねどひ かちひばふにとどの〬
ぎちねちの ぇはべちぬ〬 えづどのひどっと かみ ふぴぴぬづひ〬 きどにづ がづぷどび〬 しづの〭ぴちふ すどと〬 ごどね げはっにぴみ ちびっとづぬ〬 こづ〭
ぢちびぴどちの げどづつづぬ〬 ちのつ いはふぷづ かどづぬち〮 げづぴひどづぶちぬ〭ちふでねづのぴづつ でづのづひちぴどはの てはひ にのはぷぬづつでづ〭
どのぴづのびどぶづ のぬば ぴちびにび〮 ぉの Proceedings of the 34th International Conference on Neural
Information Processing Systems 〬 ぎぉぐこ 〧〲〰〬 げづつ えははに〬 ぎす〬 さこぁ〬 〲〰〲〰〮 ぃふひひちの ぁび〭
びはっどちぴづび ぉのっ〮
せ〲そ ぁびとどびと ざちびぷちのど〬 ぎはちね ことちぺづづひ〬 ぎどにど ぐちひねちひ〬 おちにはぢ さびぺにはひづどぴ〬 がぬどはの おはのづび〬 ぁどつちの ぎ
ぇはねづぺ〬 〠 が ふにちびぺ かちどびづひ〬 ちのつ ぉぬぬどち ぐはぬはびふにとどの〮 ぁぴぴづのぴどはの どび ぁぬぬ べはふ ぎづづつ〮 ぉの ぉ〮 ぇふべはの〬
さ〮 ざはの がふへぢふひで〬 こ〮 あづのでどは〬 え〮 しちぬぬちっと〬 げ〮 うづひでふび〬 こ〮 ざどびとぷちのちぴとちの〬 ちのつ げ〮 ぇちひのづぴぴ〬
づつどぴはひび〬 Advances in Neural Information Processing Systems 〬 ぶはぬふねづ 〳〰〮 ぃふひひちの
ぁびびはっどちぴづび〬 ぉのっ〮〬 〲〰〱〷〮
せ〳そ がづど えふちので〬 しづどなどちので すふ〬 しづどぴちは きち〬 しづどとはので ずとはので〬 ずとちのでべどの うづので〬 えちはぴどちの
しちので〬 けどちのでぬはので ぃとづの〬 しづどとふち ぐづので〬 じどちはっとづので うづので〬 あどので けどの〬 ちのつ ごどので がどふ〮 ぁ
びふひぶづべ はの とちぬぬふっどのちぴどはの どの ぬちひでづ ぬちのでふちでづ ねはつづぬび〺 ぐひどのっどばぬづび〬 ぴちへはのはねべ〬 っとちぬぬづのでづび〬
ちのつ はばづの ぱふづびぴどはのび〮 ACM Trans. Inf. Syst. 〬 〴〳〨〲〩〬 おちのふちひべ 〲〰〲〵〮
せ〴そ ざぬちつどねどひ かちひばふにとどの〬 あちひぬちび くでふぺ〬 こづぷはの きどの〬 ぐちぴひどっに がづぷどび〬 がづつづぬぬ しふ〬 こづひでづべ
ぅつふのはぶ〬 いちのぱど ぃとづの〬 ちのつ しづの〭ぴちふ すどと〮 いづのびづ ばちびびちでづ ひづぴひどづぶちぬ てはひ はばづの〭つはねちどの
ぱふづびぴどはの ちのびぷづひどので〮 ぉの あはののどづ しづぢぢづひ〬 ごひづぶはひ ぃはとの〬 すふぬちの えづ〬 ちのつ すちので がどふ〬
づつどぴはひび〬 Proceedings of the 2020 Conference on Empirical Methods in Natural Lan-
guage Processing (EMNLP) 〬 ばちでづび 〶〷〶〹ほ〶〷〸〱〬 くのぬどのづ〬 ぎはぶづねぢづひ 〲〰〲〰〮 ぁびびはっどちぴどはの
てはひ ぃはねばふぴちぴどはのちぬ がどのでふどびぴどっび〮
せ〵そ ずとづの けどの〬 げはぬて おちでづひねちの〬 かちど えふど〬 えはのでぬづど ずとふちので〬 おふのひふ しふ〬 がづ すちの〬 おどちねどので
ことづの〬 ごどちのぱど がどふ〬 おどちぬふ がどふ〬 いはのちぬつ きづぴぺぬづひ〬 じふちのとふど しちので〬 ちのつ きどっとちづぬ あづのつづひびにべ〮
がちひでづ ぬちのでふちでづ ねはつづぬび ちひづ づ》づっぴどぶづ ぴづへぴ ひちのにづひび ぷどぴと ばちどひぷどびづ ひちのにどので ばひはねばぴどので〮
ぉの かづぶどの いふと〬 えづぬづのち ぇはねづぺ〬 ちのつ こぴづぶづの あづぴとちひつ〬 づつどぴはひび〬 Findings of the Associ-
ation for Computational Linguistics: NAACL 2024 〬 ばちでづび 〱〵〰〴ほ〱〵〱〸〬 きづへどっは ぃどぴべ〬
きづへどっは〬 おふのづ 〲〰〲〴〮 ぁびびはっどちぴどはの てはひ ぃはねばふぴちぴどはのちぬ がどのでふどびぴどっび〮
せ〶そ しづのとちの じどはので〬 じどちので がはひひちどのづ がど〬 こひどのど ぉべづひ〬 おどのでてづど いふ〬 ぐちぴひどっに がづぷどび〬
しどぬぬどちね すちので しちので〬 すちびとちひ きづとつちつ〬 しづの ぴちふ すどと〬 こづぢちびぴどちの げどづつづぬ〬 いはふぷづ かどづぬち〬
ちのつ あちひぬちび く〕 でふぺ〮 ぁのびぷづひどので っはねばぬづへ はばづの〭つはねちどの ぱふづびぴどはのび ぷどぴと ねふぬぴど〭とはば つづのびづ
ひづぴひどづぶちぬ〬 〲〰〲〰〮 ちひじどぶ ばひづばひどのぴ ちひじどぶ〺〲〰〰〹〮〱〲〷〵〶〮
せ〷そ ぐちひぴと こちひぴとど〬 こちぬねちの ぁぢつふぬぬちと〬 ぁつどぴど ごふぬど〬 ことふぢと かとちののち〬 ぁののち ぇはぬつどづ〬 ちのつ
ぃとひどびぴはばとづひ い〮 きちののどので〮 げちばぴはひ〺 げづっふひびどぶづ ちぢびぴひちっぴどぶづ ばひはっづびびどので てはひ ぴひづづ〭
はひでちのどぺづつ ひづぴひどづぶちぬ〬 〲〰〲〴〮 ちひじどぶ ばひづばひどのぴ ちひじどぶ〺〲〴〰〱〮〱〸〰〵〹〮
せ〸そ いちひひづの ぅつでづ〬 えち ごひどのと〬 ぎづぷねちの ぃとづので〬 おはびとふち あひちつぬづべ〬 ぁぬづへ ぃとちは〬 ぁばふひぶち きはつべ〬
こぴづぶづの ごひふどぴぴ〬 いちびとち きづぴひはばはぬどぴちのびにべ〬 げはぢづひぴ くびちぺふぷち ぎづびび〬 ちのつ おはのちぴとちの がちひびはの〮
うひはね ぬはっちぬ ぴは でぬはぢちぬ〺 ぁ でひちばと ひちで ちばばひはちっと ぴは ぱふづひべ〭てはっふびづつ びふねねちひどぺちぴどはの〬 〲〰〲〴〮
ちひじどぶ ばひづばひどのぴ ちひじどぶ〺〲〴〰〴〮〱〶〱〳〰〮
せ〹そ おちびはの しづど〬 じふづぺとど しちので〬 いちぬづ こっとふふひねちのび〬 きちちひぴづの あはびねち〬 あひどちの ぉっとぴづひ〬 うづど じどち〬
ぅつ え〮 ぃとど〬 けふはっ ざ〮 がづ〬 ちのつ いづののべ ずとはふ〮 ぃとちどの〭はて〭ぴとはふでとぴ ばひはねばぴどので づぬどっどぴび ひづち〭
びはのどので どの ぬちひでづ ぬちのでふちでづ ねはつづぬび〮 ぉの Proceedings of the 36th International Conference
〱〲

on Neural Information Processing Systems 〬 ぎぉぐこ 〧〲〲〬 げづつ えははに〬 ぎす〬 さこぁ〬 〲〰〲〲〮
ぃふひひちの ぁびびはっどちぴづび ぉのっ〮
せ〱〰そ がどちので しちので〬 ぎちの すちので〬 じどちはぬはので えふちので〬 がどのなふの すちので〬 げちのでちの きちなふねつづひ〬 ちのつ
うふひふ しづど〮 きふぬぴどぬどのでふちぬ づ〵 ぴづへぴ づねぢづつつどのでび〺 ぁ ぴづっとのどっちぬ ひづばはひぴ〬 〲〰〲〴〮 ちひじどぶ ばひづばひどのぴ
ちひじどぶ〺〲〴〰〲〮〰〵〶〷〲〮
せ〱〱そ くばづのぁぉ〮 ぇばぴ〭〴は〭ねどのど ねはつづぬび〬 〲〰〲〵〮 ぁぶちどぬちぢぬづ ちぴ〺 https://platform.openai.com/
docs/models/gpt-4o-mini 〨ちっっづびびづつ〺 〲〰〲〵〭〰〴〭〱〲〩〮
〱〳

A Appendix
A.1 Prompt Design
A.1.1 Task-Oriented Prompt
Table 3: 任務導向提示（Task-Oriented Prompt ）
Task-Oriented Prompt:
你將獲得以下兩個資訊：
〭法 法 法律 律 律問 問 問題 題 題:{ぱふづひべ}
〭檢 檢 檢索 索 索內 內 內容 容 容:{っはのぴづへぴ }
你是一個專業的法律顧問機器人，需根據法律問題和檢索內容提供準確且清
晰的回答。
回 回 回答 答 答步 步 步驟 驟 驟： ： ：
〱〮確認關聯性：若問題與檢索內容相關，則分析並回答；若無關，則忽略。
〲〮使用ごとはふでとぴ→ぁっぴどはの→くぢびづひぶちぴどはの 框架：
ごとはふでとぴ：確認問題可否根據檢索內容回答。
ぁっぴどはの：從檢索內容中提取所有你認為解答所需之關鍵檢索內容或細化問
題以確保準確性。
くぢびづひぶちぴどはの ：提供清晰、準確的回答。
回 回 回應 應 應規 規 規則 則 則： ： ：
〭僅使用檢索內容，不使用內部知識。
〭如資訊不足，應明確指出缺少部分。
〭無法回答時，直接回應：「我沒有足夠的相關資訊來回答這個問題」。
〱〴

A.1.2 CoT Prompt
Table 4: Chain of Thought 推理提示（CoT Prompt ）
你將獲得以下資訊：
〭原始問題：{ぱふづひべ}
〭檢索內容：{っはのぴづへぴ }
你是一位專業法律顧問機器人，請依照以下【ぃとちどの はて ごとはふでとぴ （ぃはご）推
理步驟】完整邏輯分析並作答：
【 【 【Step 1】 】 】明 明 明確 確 確界 界 界定 定 定核 核 核心 心 心法 法 法律 律 律問 問 問題 題 題
〭依原始問題清楚界定本案需解決的核心法律問題。
【 【 【Step 2】 】 】概 概 概念 念 念與 與 與法 法 法律 律 律地 地 地位 位 位辨 辨 辨析 析 析（ （ （此 此 此步 步 步驟 驟 驟必 必 必須 須 須執 執 執行 行 行） ） ）
〭針對檢索內容中出現的專 專 專有 有 有法 法 法律 律 律概 概 概念 念 念、 、 、主 主 主體 體 體身 身 身分 分 分或 或 或專 專 專業 業 業術 術 術語 語 語進行清楚辨析
與定義。
〭如發現有名 名 名稱 稱 稱相 相 相近 近 近但 但 但法 法 法律 律 律效 效 效果 果 果或 或 或法 法 法律 律 律地 地 地位 位 位不 不 不同 同 同的 的 的概 概 概念 念 念（例如：無行為能力
人ぶび限制行為能力人），請完整區分並標示，避免混淆。
〭所有專業概念請逐一定義，並說明彼此區別及法律效果差異。
【 【 【Step 3】 】 】提 提 提取 取 取關 關 關鍵 鍵 鍵法 法 法律 律 律事 事 事實 實 實與 與 與條 條 條文 文 文
〭條列與核心法律問題相關的法律事實、法條或案例。
【 【 【Step 4】 】 】逐 逐 逐步 步 步推 推 推理 理 理與 與 與法 法 法律 律 律適 適 適用 用 用
〭依照抽取出的事實與條文，進行條理清晰的法律推理。
〭如有爭議或多種見解，請分別說明。
【 【 【Step 5】 】 】得 得 得出 出 出法 法 法律 律 律結 結 結論 論 論
〭明確回答本案的法律問題。
〭若檢索內容不足，請直接回答：「依目前檢索內容，無法完整回答。」
特 特 特別 別 別規 規 規則 則 則： ： ：
〭嚴格依照檢索內容推理，禁止引入外部知識或假設。
〭法律條文請完整標示「じじ法第じ條第じ項」。
〭保持用語精確，嚴防法律概念混淆。
〱〵

A.1.3 Query Extraction Prompt
Table 5:法律助理提示（Legal Assistant Prompt ）
你是一位專業的法律助理，專責協助律師從案件事實或法律問題中，提取出
核心法律事實、主要法律爭點，以及涉及的法律條文或當事人主張，並依下
列結構化格式整理：
【 【 【背 背 背景 景 景核 核 核心 心 心事 事 事實 實 實】 】 】
〭條列案件或題目中出現的客觀事實，包括當事人身分、行為、處分或其他
法律上重要事實。
【 【 【主 主 主要 要 要法 法 法律 律 律爭 爭 爭點 點 點】 】 】
〭條列案件或題目中需要解決的核心法律問題，包括法律關係、權利義務歸
屬、法律行為效力、構成要件等。
【 【 【概 概 概念 念 念與 與 與專 專 專有 有 有名 名 名詞 詞 詞辨 辨 辨析 析 析】 】 】（ （ （如 如 如無 無 無混 混 混淆 淆 淆疑 疑 疑慮 慮 慮可 可 可省 省 省略 略 略） ） ）
〭若案件中出現易混淆或法律效果不同之相似名詞（如「無行為能力人」與
「限制行為能力人」），請完整列出並分別定義，明確說明彼此差異與法律
效果。
以 以 以下 下 下兩 兩 兩個 個 個區 區 區塊 塊 塊僅 僅 僅在 在 在有 有 有內 內 內容 容 容時 時 時產 產 產出 出 出， ， ，若 若 若無 無 無內 內 內容 容 容請 請 請完 完 完全 全 全省 省 省略 略 略， ， ，不 不 不得 得 得填 填 填
「 「 「無 無 無」 」 」： ： ：
【 【 【當 當 當事 事 事人 人 人或 或 或機 機 機關 關 關主 主 主張 張 張】 】 】
〭條列當事人或機關在案件中明確表達的主張、法律見解或立場。
〭特別注意：若案件有引用法律條文，請完整標示為：
「 「 「XX法 法 法第 第 第X條 條 條第 第 第X項 項 項」 」 」，不得簡化、不得省略法條名稱與條次。
【 【 【涉 涉 涉及 及 及的 的 的法 法 法律 律 律條 條 條文 文 文】 】 】
〭若案件事實或法律問題內容中直接提及的重要法律依據，完整標示為：
「 「 「XX法 法 法第 第 第X條 條 條第 第 第X項 項 項」 」 」。
特 特 特別 別 別注 注 注意 意 意： ： ：
〭嚴禁加入任何推論、補充、法條或自行延伸，僅可案件提取描述內容。
〭請保持結構清晰、條列明確，專業且客觀，符合法律書面標準。
〭所有法律條文及專有名詞須確保完整、正確，避免概念混淆。
以下為案件事實或法律問題內容：{ぱふづひべ}
A.2 Example QA Pairs
Q1.甲 甲 甲授 授 授與 與 與代 代 代理 理 理權 權 權予 予 予乙 乙 乙， ， ，欲 欲 欲乙 乙 乙代 代 代理 理 理甲 甲 甲向 向 向丙 丙 丙購 購 購買 買 買A物 物 物一 一 一件 件 件， ， ，若 若 若乙 乙 乙係 係 係以 以 以自 自 自己 己 己名 名 名義 義 義向 向 向丙 丙 丙
購 購 購買 買 買A物 物 物一 一 一件 件 件， ， ，此 此 此買 買 買賣 賣 賣效 效 效力 力 力是 是 是否 否 否及 及 及於 於 於甲 甲 甲？ ？ ？又 又 又丁 丁 丁授 授 授與 與 與代 代 代理 理 理權 權 權予 予 予戊 戊 戊， ， ，欲 欲 欲戊 戊 戊代 代 代理 理 理丁 丁 丁向 向 向庚 庚 庚購 購 購
買 買 買B物 物 物一 一 一件 件 件， ， ，並 並 並給 給 給予 予 予戊 戊 戊授 授 授權 權 權書 書 書。 。 。在 在 在戊 戊 戊未 未 未購 購 購買 買 買前 前 前， ， ，丁 丁 丁發 發 發現 現 現戊 戊 戊不 不 不能 能 能信 信 信賴 賴 賴， ， ，遂 遂 遂向 向 向戊 戊 戊表 表 表示 示 示撤 撤 撤
回 回 回前 前 前開 開 開授 授 授權 權 權， ， ，惟 惟 惟忘 忘 忘記 記 記將 將 將授 授 授權 權 權書 書 書索 索 索回 回 回， ， ，旋 旋 旋戊 戊 戊出 出 出示 示 示授 授 授權 權 權書 書 書， ， ，以 以 以丁 丁 丁之 之 之名 名 名義 義 義向 向 向庚 庚 庚購 購 購買 買 買B物 物 物一 一 一
件 件 件， ， ，則 則 則該 該 該買 買 買賣 賣 賣效 效 效力 力 力是 是 是否 否 否及 及 及於 於 於丁 丁 丁？ ？ ？
Generated Answer:
うどのちぬ げづびふぬぴ〺
【こぴづば 〱】明確界定核心法律問題〭本案需解決的核心法律問題為：甲與丁在授權代理
的情況下，乙與戊以各自名義購入物品的交易有效性及其對於甲和丁的效力。
〱〶

【こぴづば 〲】概念與法律地位辨析〭 〪〪代理權〪〪：指一方（授權者）授予另一方（代理
人）代為處理事務的權利。〭 〪〪無行為能力人〪〪：依據法律，無法獨立從事法律行為
的人，其一切法律行為均無效。〭 〪〪限制行為能力人〪〪：依據法律，雖然可以從事法
律行為，但在某些行為上需要他人的同意或許可（如法定代理人的允許）。〭 〪〪善意
第三人〪〪：對於法律行為抱持善意並無過失的人，法律特別保護其權益，不受他人不
法行為影響。
【こぴづば 〳】提取關鍵法律事實與條文〭甲授與代理權於乙，乙向丙購買ぁ物，若乙以自
己名義購買，根據《民法》第〱〰〴條，代理人所為之法律行為，其效力應由授權者承
擔，假如代理人沒有超越授權的情況。〭丁授予戊代理權並賦予授權書，但若丁發現
戊不可信賴並撤回授權，根據《民法》第〱〰〷條，代理權之限制及撤回不得對抗善意第
三人，且《民法》第〱〰〹條規定代理人不應留置授權書，需交還授權者。
【こぴづば 〴】逐步推理與法律適用〭 〪〪針對甲和乙的情形〪〪：〭乙若在其授權範圍內以甲
的名義購買ぁ物，該買賣效力及於甲。〭若乙以自己名義購買，則該買賣一般視為不符
合代理的要求，如無法證明乙在行為時的權限，則不會對甲產生法律效力。
〭 〪〪針對丁和戊的情形〪〪：〭丁在知道戊不可靠的情況下撤回授權，但未索回授權書，
根據《民法》第〱〰〷條，戊依舊可以以丁的名義與庚交易，因為戊在第三方（庚）的善
意情況下使交易有效。〭若庚是善意的，他無法知道戊的授權已被撤回，則此交易對
丁依然具有約束力。
【こぴづば 〵】得出法律結論〭乙以自己名義購買ぁ物的交易不及於甲，因未在授權範圍
內。而戊向庚購買あ物的交易，因戊未撤回的授權書對於善意的第三人庚有效，故該交
易效力及於丁。
Q2.甲 甲 甲因 因 因患 患 患有 有 有阿 阿 阿茲 茲 茲海 海 海默 默 默症 症 症， ， ，時 時 時常 常 常認 認 認不 不 不得 得 得人 人 人胡 胡 胡言 言 言亂 亂 亂語 語 語， ， ，經 經 經家 家 家人 人 人向 向 向法 法 法院 院 院聲 聲 聲請 請 請， ， ，而 而 而受 受 受監 監 監護 護 護
宣 宣 宣告 告 告。 。 。某 某 某日 日 日， ， ，甲 甲 甲神 神 神智 智 智清 清 清醒 醒 醒能 能 能正 正 正常 常 常表 表 表達 達 達， ， ，便 便 便自 自 自行 行 行到 到 到住 住 住家 家 家附 附 附近 近 近， ， ，由 由 由乙 乙 乙獨 獨 獨資 資 資經 經 經營 營 營的 的 的餐 餐 餐廳 廳 廳點 點 點
餐 餐 餐吃 吃 吃飯 飯 飯， ， ，用 用 用餐 餐 餐完 完 完畢 畢 畢後 後 後， ， ，甲 甲 甲不 不 不想 想 想付 付 付錢 錢 錢， ， ，遂 遂 遂主 主 主張 張 張自 自 自己 己 己受 受 受監 監 監護 護 護宣 宣 宣告 告 告， ， ，契 契 契約 約 約無 無 無效 效 效， ， ，故 故 故可 可 可以 以 以不 不 不
用 用 用付 付 付錢 錢 錢， ， ，隨 隨 隨即 即 即離 離 離開 開 開。 。 。1-1甲 甲 甲拒 拒 拒絕 絕 絕支 支 支付 付 付餐 餐 餐費 費 費的 的 的主 主 主張 張 張是 是 是否 否 否有 有 有理 理 理由 由 由？ ？ ？
Generated Answer:
うどのちぬ げづびふぬぴ〺
【こぴづば 〱】明確界定核心法律問題〭本案的核心法律問題是：甲是否可以主張契約無效
以拒絕支付餐費，因其受監護宣告的身份。
【こぴづば 〲】概念與法律地位辨析〱〮 〪〪無行為能力人〪〪：根據《民法》第〱〵條，受監護
宣告之人視為無行為能力人，因此其所為的意思表示均為無效。〲〮 〪〪限制行為能力
人〪〪：限制行為能力人雖然可以進行某些法律行為，但必須經過法定代理人或輔助人
的同意，否則該行為的效力不完全。〳〮 〪〪監護宣告〪〪：根據《民法》第〱〴條，法院可
以依據聲請對精神障礙或其他心智缺陷的個體（如甲）進行監護宣告，這表示該人於
法律行為上不具有能力。〴〮 〪〪輔助宣告〪〪：針對精神障礙或心智缺陷輕微的情況，法
院也可進行輔助宣告，該人仍具備一定法律行為的能力，但需經輔助人的同意。
法律效果方面，無行為能力人所成立的契約無效，而限制行為能力人未經同意所成立
的契約需經法定代理人或輔助人承認才能生效。
【こぴづば 〳】提取關鍵法律事實與條文〱〮甲因阿茲海默症，已經受到監護宣告（根據
《民法》第〱〵條）。〲〮甲在神智清醒時，獨自前往餐廳消費。〳〮甲用餐後拒絕支
付，主張契約無效。
相關條文：〭《民法》第〱〵條：受監護宣告之人，無行為能力。〭《民法》第〸〱條：
限制行為能力人承認所訂立之契約具有同一效力。〭《民法》第〸〲條：限制行為能力
人所訂立之契約，未經承認前，相對人得撤回之。
【こぴづば 〴】逐步推理與法律適用首先，甲已受到監護宣告，根據《民法》第〱〵條，其
法律行為已被視為無效。因此，甲所主張的契約無效，是有法理基礎的。
〱〷

其次，即使在其神智清醒時所表現出來的行為（如點餐用餐）似乎具備行為能力，但
根據《民法》第〱〵條規定，受監護宣告者即使在清醒時，其法律行為仍可視為無效。
再者，根據《民法》第〸〱條與第〸〲條，限制行為能力人的契約需經法定代理人之承認
方能生效，而甲的狀態不同於限制行為能力人，他直接被認定為無行為能力人，因此
不需要經任何承認就可以主張契約無效。
然而，若甲在神智清醒期間進行合同或語言上發出意思表示，一般不是基於缺乏理
解的情況下所做出，而此舉本身可能引發與餐廳的合法交易關係的社會期待及法律期
待。因此，儘管甲以受監護宣告為由主張契約無效，仍需考慮其行為的社會倫理與實
務操作。
【こぴづば 〵】得出法律結論根據上述推理，甲以「受監護宣告」主張契約無效的理由是
成立的，即甲可以拒絕支付餐費。該契約依《民法》第〱〵條規定視為無效，故甲的拒
絕支付是有法律依據的。
Q2.甲 甲 甲因 因 因患 患 患有 有 有阿 阿 阿茲 茲 茲海 海 海默 默 默症 症 症， ， ，時 時 時常 常 常認 認 認不 不 不得 得 得人 人 人胡 胡 胡言 言 言亂 亂 亂語 語 語， ， ，經 經 經家 家 家人 人 人向 向 向法 法 法院 院 院聲 聲 聲請 請 請， ， ，而 而 而受 受 受監 監 監護 護 護
宣 宣 宣告 告 告。 。 。某 某 某日 日 日， ， ，甲 甲 甲神 神 神智 智 智清 清 清醒 醒 醒能 能 能正 正 正常 常 常表 表 表達 達 達， ， ，便 便 便自 自 自行 行 行到 到 到住 住 住家 家 家附 附 附近 近 近， ， ，由 由 由乙 乙 乙獨 獨 獨資 資 資經 經 經營 營 營的 的 的餐 餐 餐廳 廳 廳點 點 點
餐 餐 餐吃 吃 吃飯 飯 飯， ， ，用 用 用餐 餐 餐完 完 完畢 畢 畢後 後 後， ， ，甲 甲 甲不 不 不想 想 想付 付 付錢 錢 錢， ， ，遂 遂 遂主 主 主張 張 張自 自 自己 己 己受 受 受監 監 監護 護 護宣 宣 宣告 告 告， ， ，契 契 契約 約 約無 無 無效 效 效， ， ，故 故 故可 可 可以 以 以不 不 不
用 用 用付 付 付錢 錢 錢， ， ，隨 隨 隨即 即 即離 離 離開 開 開。 。 。1-2乙 乙 乙對 對 對於 於 於餐 餐 餐費 費 費是 是 是否 否 否有 有 有民 民 民法 法 法上 上 上的 的 的權 權 權利 利 利可 可 可以 以 以向 向 向甲 甲 甲主 主 主張 張 張？ ？ ？
Generated Answer:
うどのちぬ げづびふぬぴ〺
【こぴづば 〱】明確界定核心法律問題本案的核心法律問題在於：甲因受監護宣告而是否
具有支付餐費的法律責任，乙是否可以對甲主張民法上的權利。
【こぴづば 〲】概念與法律地位辨析〱〮 〪〪受監護宣告〪〪：根據《民法》第〱〵條，受監護宣
告之人為無行為能力。即該類人無法獨立從事法律行為。〲〮 〪〪無行為能力人〪〪：該類
人由于精神障礙或其他心智缺陷，不能進行意思表示或辨識意思表示的效果，因此法
律行為不生效力。〳〮 〪〪限制行為能力人〪〪：此類人具有一定的行為能力，但某些行為
仍需經法定代理人的同意。〴〮 〪〪法定代理人〪〪：指根據法律或法院的指定，能代表無
行為能力人或限制行為能力人進行法律行為的個體。
這些概念相互區分之處在於，無行為能力人（如受監護宣告者）其所訂立之契約全然
無效，而限制行為能力人則在一定條件下仍可訂立有效的法律行為。
【こぴづば 〳】提取關鍵法律事實與條文〱〮甲因患有阿茲海默症而經法院聲請受監護宣
告，根據《民法》第〱〵條第〱項，甲為無行為能力人。〲〮甲在某日神智清醒能正常表
達，獨自到餐廳就餐並點餐，飲食後拒絕支付餐費，主張契約無效。〳〮根據《民法》
第〸〱條，限制行為能力人於限制原因消滅後，承認其所訂立之契約者，承認與法定代
理人承認相同。
【こぴづば 〴】逐步推理與法律適用 甲的行為本質上是違反了支付餐費的義務。儘管有時
甲的精神狀態較為清醒，但根據《民法》第〱〵條，因受監護宣告而使甲視為無行為能
力，因此其所訂立的就餐契約不具法律效力。乙雖然在甲表示用餐並確認之後提供服
務，但因甲的無行為能力，故乙無法對甲主張支付的權利。
根據《民法》第〷〹條規定，限制行為能力人若未得法定代理人之允許，其所訂立的契
約未經承認前他方可撤回。因此，乙無法就甲的行為要求支付餐費。
此外，根據《民法》第〸〲條，限制行為能力人所訂立之契約，未經承認前，相對人可
撤回。可見，甲既然被視為無行為能力人，乙的要求是無效的。
【こぴづば 〵】得出法律結論依據上述推理，乙對於甲的餐費主張無法成立。因甲因受監
護宣告為無行為能力，故其與乙間的契約不具有法律效力，因此無須支付餐費。
〱〸

土 土 土地 地 地法 法 法第 第 第12條 條 條規 規 規定 定 定： ： ：「 「 「(第 第 第一 一 一項 項 項)私 私 私有 有 有土 土 土地 地 地， ， ，因 因 因天 天 天然 然 然變 變 變遷 遷 遷成 成 成為 為 為湖 湖 湖澤 澤 澤或 或 或可 可 可通 通 通運 運 運之 之 之水 水 水道 道 道
時 時 時， ， ，其 其 其所 所 所有 有 有權 權 權視 視 視為 為 為消 消 消滅 滅 滅。 。 。（ （ （第 第 第二 二 二項 項 項） ） ）前 前 前項 項 項土 土 土地 地 地， ， ，回 回 回復 復 復原 原 原狀 狀 狀時 時 時， ， ，經 經 經原 原 原所 所 所有 有 有權 權 權人 人 人證 證 證明 明 明為 為 為
其 其 其原 原 原有 有 有者 者 者， ， ，仍 仍 仍回 回 回復 復 復其 其 其所 所 所有 有 有權 權 權。 。 。」 」 」請 請 請闡 闡 闡釋 釋 釋本 本 本條 條 條第 第 第二 二 二項 項 項規 規 規定 定 定內 內 內容 容 容。 。 。
Generated Answer:
うどのちぬ げづびふぬぴ〺
【こぴづば 〱】明確界定核心法律問題〭本案需解決的核心法律問題是：土地法第〱〲條
第〲項所規定的「回復原狀時，經原所有權人證明為其原有者，仍回復其所有權」的具
體含義及法律效力。
【こぴづば 〲】概念與法律地位辨析〭 〪〪私有土地〪〪：指屬於個人或法人所有的土地，與公
有土地相對。私有土地的所有者擁有完全的使用、收益、處分權和排除他人干涉的能
力（土地法第〷〶〵條）。
〭 〪〪所有權〪〪：指對物的法律支配權，所有權人可以自由使用、收益和處分其所擁有的
財產。若法律或合同未另行規定，其權利為絕對的。
〭 〪〪回復原狀〪〪：此概念在法律上通常指物的狀態恢復至自然或法定的初始狀態。在
土地法第〱〲條情境中，若土地因天然變遷變成湖澤或水道，當這片土地「回復原狀」
時，意味著水位下降或自然條件改變，使土地重現為可用的陸地。
〭 〪〪證明為其原有者〪〪：意味著原土地所有權人需要提供足夠的證明，證明其確為該土
地的合法所有者。在法律上，證明責任通常在聲明擁有權一方。
【こぴづば 〳】提取關鍵法律事實與條文〭條文：土地法第〱〲條第〲項規定：「前項土地，
回復原狀時，經原所有權人證明為其原有者，仍回復其所有權。」 〭關鍵事實：私
有土地因天然變遷變成湖澤或可通運之水道後，所有權視為消滅；當該土地回復為陸
地，原所有權人有權證明其所有權並重新獲得所有權。
【こぴづば 〴】逐步推理與法律適用〭根據土地法第〱〲條第〱項的規定，私有土地因天然變
遷成為湖澤或水道時，其所有權視為消滅，這表明在特定天然災害或變遷下，土地的
所有權並非永久消失，而是暫時因自然因素被撤銷。
〭根據第〲項的規定，在該土地回復為可使用的陸地時，只要原所有權人能提供證明，
證明自己是該土地的合法擁有者，就可以重新獲得對該土地的所有權。這一條款保護
了原所有權人的權益，確保在法律上他們依然有可能恢復失去的財產權。
〭因此，如果某個自然或環境的變化使土地轉變為湖澤或水道，雖然所有權在法理上被
視為消滅，當土地恢復其原狀，且原所有權人做好證明時，即可回復其所有權，這展
示了法律對於所有權的保護及其在特殊情況下的響應。
【こぴづば 〵】得出法律結論〭根據土地法第〱〲條第〲項的規定，原所有權人在土地因天
然變遷而喪失所有權後，若該土地後來再次回復為可使用的狀態，並且能夠證明其原
始所有者身份，即可以回復其所有權。這一制度設計有助於保障原所有權人的合法權
益。
〱〹